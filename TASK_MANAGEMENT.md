# タスク管理

最終更新日時: 2025/07/06

---

## 🛠 仕掛中タスク

*   [ ] エラーハンドリング、ログ出力の強化 - 継続的に改善要
*   [ ] 動作確認・デバッグ - 継続的に必要

---

## 🚧 問題・課題

(ここに問題・課題を記述)

---

## 💡 メモ / 改善案

*   フォローバックについて、「次へ」のページ遷移も行い全ページの確認を実施します
*   フォローバックについて、処理時間を大幅に短縮するようお願いします
*   新規フォローの拡充機能時も処理時間を大幅に短縮するようお願いします
*   フォロー条件として、「F中 > Fワー」は不要で、レシオのみの判定だけとする
*   これらのスクリプトを管理しやすいよう分割するリファクタリング
*   スクリプトとconfigへのコメント付与するリファクタリング

(ここにメモや改善案を記述)

---

## 🚀 新機能提案

### yamap_auto_domo.py の機能改善・完成

**概要:** 既存の `yamap_auto_domo.py` の機能を改善・完成させ、YAMAPの自動操作（フォロワー交流、新規フォロー）を実現する。

**機能詳細:**

1.  **ログイン機能:**
    *   最初にYAMAPへログインする。

2.  **フォロワーとの交流機能:**
    *   **機能1: フォローバック**
        *   自分をフォローしてくれたユーザーを自動でフォローバックする。
        *   `config.yaml` でON/OFF、最大フォローバック数を設定可能にする。
    *   **機能2: タイムラインDOMO**
        *   タイムライン上の活動記録へ自動でDOMOする。
        *   `config.yaml` でON/OFF、DOMOする投稿数を設定可能にする。

3.  **新規フォローの拡充機能:**
    *   **機能1: 検索結果からのフォロー＆DOMO**
        *   `https://yamap.com/search/activities` の一覧をページングしながら進む。
        *   各活動記録のユーザーページを開く。
        *   ユーザーのフォロー数がフォロワー数よりも多い場合（かつ指定のRatioを満たす場合）に「フォロー」する。
        *   フォローしたユーザーの最新の活動記録へDOMOする。
        *   `config.yaml` でON/OFF、処理ページ数、フォロー条件のRatio、1ページあたりの処理ユーザー数を設定可能にする。

4.  **設定管理:**
    *   `yamap_auto/config.yaml` に上記機能のON/OFFやしきい値、設定値を追加・管理する。
        *   既存の設定項目との整合性を考慮する。
        *   新しい機能のためのセクションを追加する（例: `timeline_domo_settings`, `new_follow_expansion_settings`）。

**タスクブレークダウン (yamap_auto_domo.py 改善と関連ファイル更新):**

*   [x] `yamap_auto_domo.py` の基本構造作成 (ロガー設定、WebDriver設定、ログイン機能流用) - 実装済み
*   [x] `config.yaml` に新機能用の設定項目を追加定義 - 実装済み
*   [x] **フォローバック機能の実装:** - 実装済み
    *   [x] 自分のフォロワー一覧を取得する処理 - 実装済み
    *   [x] 各フォロワーが既にフォローバック済みか確認する処理 - 実装済み
    *   [x] フォローバックを実行する処理 - 実装済み
    *   [x] `config.yaml` から設定値を読み込み、動作を制御 - 実装済み
*   [x] **タイムラインDOMO機能の実装:** - 実装済み
    *   [x] タイムラインページにアクセスし、活動記録要素を取得する処理 - 実装済み
    *   [x] 各活動記録へDOMOする処理（既存DOMO処理を参考に、重複DOMOを避ける） - 実装済み
    *   [x] `config.yaml` から設定値を読み込み、動作を制御 - 実装済み
*   [x] **検索結果からのフォロー＆DOMO機能の実装:** - 実装済み
    *   [x] `https://yamap.com/search/activities` にアクセスする処理 - 実装済み
    *   [x] ページネーションを処理し、次のページへ進むロジック - 実装済み
    *   [x] 各活動記録からユーザーページURLを取得する処理 - 実装済み
    *   [x] ユーザーページでフォロー数・フォロワー数を取得する処理 (既存処理を参考に拡張) - 実装済み
    *   [x] フォロー条件（フォロー数 > フォロワー数 AND Ratio）を判定する処理 - 実装済み
    *   [x] ユーザーをフォローする処理 (既存処理を参考に拡張) - 実装済み
    *   [x] フォローしたユーザーの最新活動記録を取得しDOMOする処理 (既存処理を参考に拡張) - 実装済み
    *   [x] `config.yaml` から設定値を読み込み、動作を制御 - 実装済み
*   [ ] エラーハンドリング、ログ出力の強化 - 継続的に改善要
*   [x] main関数での各機能の呼び出し制御 - 実装済み
*   [ ] README.md の更新 (新機能の追加、config.yaml の説明更新など) - 未着手
*   [ ] 動作確認・デバッグ - 継続的に必要

**その他:**

*   既存の `yamap_auto_domo.py` との機能重複や依存関係を考慮し、共通化できる部分は関数として切り出すことも検討。
*   セレクタの変更に強い実装を心がける (可能な範囲で `data-testid` などを優先)。

(ここに新機能提案を記述)

---

## ✅ 完了タスク

*   [x] README.md の更新 (新機能の追加、config.yaml の説明更新、旧スクリプト記述削除) (コミットハッシュ: 後ほど追記)
(ここに完了したタスクをチェックボックス付きで記述)
<!-- - [x] 完了したタスク1 (コミットハッシュ or Issue番号) -->

---

## ❗手動確認依頼

(ここに手動確認が必要な事項を記述)
